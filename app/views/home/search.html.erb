<h1>Search</h1>

<%= form_tag '/search', method: :post do |f| %>
	<%# TODO: I18n %>
	<%= select_tag :search_filter, options_for_select(["Artist", "Title", "Lyrics", "User"]) %>
	<%= text_field_tag :search_contents %>

	<%# TODO: Update t(:search) adequately so it's not 限定されている to search charts only %>
	<%= submit_tag t(:search) %>
<% end %>

<%# TODO: Write a user results partial and a chart results partial %>

<div class="panel panel-default" id="songs_index">
	<div class="panel panel-heading">
  	  <h1>Results</h1>
  	</div>
  	<div class="panel panel-body">
		<ul class="list-group">
	  		<% if @results.empty? %>
	  			<p>No results</p>
		  	<% else %>
				<% if params[:search_filter] == "Title" || params[:search_filter] == "Artist" %>
					<%= render 'chart_results' %>
				<% else %>
					<%= render 'user_results' %>
				<% end %>
		    <% end %>
		  </ul>
	</div>
</div>

<div class="pagination_container">
  <%= paginate @results unless @results.empty? %>
</div>
