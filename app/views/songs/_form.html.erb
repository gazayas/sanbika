<%= tinymce_assets %>
<% col_size = "50" %>

<%= form_for([@user, song]) do |f| %>

  <%# selectedの値の定義 %>
  <% unless song.key == nil %>
    <% key = song.key %>
  <% else %>
    <% key = "C" %>
  <% end %>

  <table id="song_form">
    <tr>
      <td>
        <%= f.text_field :title, class: 'form-control',
        placeholder: t('activerecord.attributes.song.title'), autofocus: true, size: col_size %>
      </td>
    </tr>
    <tr>
      <td>
        <%= f.text_field :title_yomikata, class: 'form-control',
        placeholder: t('activerecord.attributes.song.title_yomikata'), size: col_size %>
      </td>
    </tr>
    <tr>
      <td>
        <%= f.text_field :artist, class: 'form-control',
        placeholder: t('activerecord.attributes.song.artist'), size: col_size %>
      </td>
    </tr>
    <tr>
      <td>
        <%= f.text_field :artist_yomikata, class: 'form-control',
        placeholder: t('activerecord.attributes.song.artist_yomikata'), size: col_size %>
      </td>
    </tr>
    <tr>
      <td>
        <div id="key_text"><%= t('activerecord.attributes.song.key') %></div>
        <%= f.select(:key, options_for_select(sharp_notes, selected: key),
        class: 'form-control', size: col_size) %>
      </td>
    </tr>

  </table>

  <div class="explanation">
    <li>イタリック（斜体字）されたコードは転調の対象となります</li>
    <li>シャープ記号を書くには「#」、フラット記号を書くには「b」を書きます</li>
    <li>「D/F♯」というようなスラッシュコードもサポートされています</li>
  </div>


  <div class="song_body"><!-- id に変えた方がいいかな -->
    <%= f.text_area :song_body, class: 'tinymce', rows: 80, cols: 120 %>
    <%= tinymce %>
  </div>

  <%= f.submit class: 'btn btn-primary', value: '保存', id: 'save_button' %>

<% end %>
