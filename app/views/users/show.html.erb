<div id="user_container" class="container">
  <div id="user_row" class="row">
    <div class="col-xs-2 hidden-sm hidden-md hidden-lg"></div>
    <div class="col-xs-8 col-md-4 panel panel-default">
      <div class="panel-body">
        <div class="text-center">
          <% user_image = @user.user_image.file ? @user.user_image : image_url('user_black_logo.jpg') %>

          <%= button_tag class: 'btn btn-link', data: {toggle: "modal", target: '#img_modal'} do %>
            <%= image_tag(user_image, id: 'user_image') %>
          <% end %>

          <div class="modal fade" id="img_modal" tabindex="-1" role="dialog" aria-labelledby="img_modal_label" aria-hidden="true">
            <div class="modal-dialog" role="document">
              <div class="modal-content">
                <div class="modal-header">
                  <button type="button" class="btn btn-secondary pull-right" data-dismiss="modal">Ã—</button>
                </div>
                <div class="modal-body">
                  <%= image_tag(user_image, id: 'user_image') %>
                </div>
              </div>
            </div>
          </div>

          <h2><%= @user.name %></h2>
          <hr>
          <%= link_to t(:edit_profile), edit_user_path(@user) if current_user == @user %><br/>
          <% if current_user == @user %>
            <%= link_to t(:delete_account), user_path, method: :delete, data: { confirm: t(:confirm_deletion) } %>
          <% end %>
        </div>
      </div>
    </div>

    <div class="col-xs-8 col-md-8">
      <h3><%= @user.name + t(:user_charts) %></h3>

      <% if current_user == @user %>
        <%= link_to '<span class="glyphicon glyphicon-pencil"></span> '.html_safe + t(:new_chart),
          new_user_song_path(@user),
          class: 'btn btn-primary btn-sm',
          id: 'new_chart_button'
        %><br/>
      <% end %>

      <%# TODO: Paginate %>
      <% if !@songs.empty? %>
        <ul class="list-group">
          <% @songs.each do |song| %>
            <%= link_to song.title, user_song_path(@user, song), class: 'list-group-item' %>
          <% end %>
        </ul>
      <% else %>
        <h4><%= t(:no_charts) %></h4>
      <% end %>
    </div>
  </div>
</div>
